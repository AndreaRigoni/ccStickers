#ifndef AUTOLOCK_H
#define AUTOLOCK_H

#include "Core/Mutex.h"

////////////////////////////////////////////////////////////////////////////////
//  Autolock  //////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

#define CCS_LOCK_SCOPE(mutex) AutoLock al(mutex); (void)al

class AutoLock {
public:
    AutoLock(Mutex & mutex): mutex(mutex) {  mutex.lock(); }
    ~AutoLock() { mutex.unlock(); }
private:
    Mutex & mutex;
};




#endif // AUTOLOCK_H

